openapi: 3.0.0
info:
  title: API RESTful - DoaPix
  version: 1.0.0
  description: >-
    Este projeto consiste na constru√ß√£o de uma **API RESTful usando Node.js e
    TypeScript**, com integra√ß√£o ao banco de dados **PostgreSQL**, para criar um
    sistema que permita aos usu√°rios gerenciar **doa√ß√µes solid√°rias online**. As
    doa√ß√µes ser√£o organizadas em categorias e tamb√©m ter√£o um hist√≥rico para
    acompanhamento de doa√ß√µes realizadas. Atrav√©s de uma interface amig√°vel, os
    usu√°rios poder√£o **criar, visualizar, editar e excluir doa√ß√µes**, al√©m de
    acompanhar **doa√ß√µes previamente realizadas**.


    A API fornecer√° aos usu√°rios todas as funcionalidades necess√°rias para
    realizar opera√ß√µes b√°sicas em suas doa√ß√µes, como criar, visualizar, editar e
    excluir. Al√©m disso, ela ser√° projetada para garantir a seguran√ßa e a
    privacidade dos dados do usu√°rio, implementando pr√°ticas adequadas de
    autentica√ß√£o e autoriza√ß√£o.


    O uso do **Node.js e TypeScript** permitir√° uma **f√°cil implementa√ß√£o dos
    endpoints da API**, bem como a manuten√ß√£o do c√≥digo com tipagem est√°tica,
    tornando o processo de desenvolvimento mais seguro e organizado.
    Utilizaremos o **PostgreSQL** como nosso banco de dados para **armazenar as
    doa√ß√µes e as informa√ß√µes relacionadas a categorias e hist√≥rico de
    transa√ß√µes**.


    Para a **documenta√ß√£o da API**, faremos uso do **Swagger UI** atrav√©s do
    pacote **'swagger-ui-express'** em conjunto com o **'swagger-jsdoc'**, o que
    permitir√° gerar automaticamente a documenta√ß√£o da API a partir das anota√ß√µes
    do c√≥digo-fonte. Isso tornar√° mais f√°cil para os desenvolvedores e usu√°rios
    entenderem e interagirem com os endpoints da API.


    Para gerenciar as depend√™ncias do projeto, utilizaremos o **Yarn** como
    gerenciador de pacotes, garantindo uma instala√ß√£o mais r√°pida e confi√°vel
    das bibliotecas necess√°rias para o desenvolvimento.


    Em suma, o objetivo deste software √© oferecer aos usu√°rios uma **maneira
    pr√°tica e segura de gerenciar suas doa√ß√µes online**, proporcionando
    organiza√ß√£o atrav√©s de categorias e a capacidade de acompanhar doa√ß√µes
    realizadas. Com uma API RESTful completa e bem documentada, esperamos
    fornecer uma solu√ß√£o confi√°vel e eficiente para atender √†s necessidades de
    gerenciamento de doa√ß√µes de nossos usu√°rios. As doa√ß√µes s√£o an√¥nimas e o
    principal meio de pagamento √© o Pix.
  license:
    name: MIT License
    url: https://github.com/ViniciusGR797/doapix-api/blob/master/LICENSE
components:
  securitySchemes:
    jwt:
      type: apiKey
      in: header
      name: Authorization
      description: Para autenticar, coloque o token JWT no formato **Bearer _token_**.
  schemas:
    DonationList:
      type: array
      items:
        $ref: '#/components/schemas/Donation'
    DonationDetails:
      type: object
      required:
        - id
        - name
        - url_image
        - description
        - state
        - category
        - goal
        - amount_raised
        - deadline
        - created_at
        - user_id
        - transactions
        - comments
      properties:
        id:
          type: string
          description: Identificador √∫nico da campanha de doa√ß√£o
          example: fa763c0d-21ad-4151-bd14-00962d3c3a74
        name:
          type: string
          description: Nome da campanha de doa√ß√£o
          example: Doe Amor e Esperan√ßa
        url_image:
          type: string
          description: URL da imagem da campanha de doa√ß√£o (formato base64)
          example: >-
            data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBURDw8REREPDw8PDxEPEA8PEREPDw8PGBQZGRgUGBgcIS4lHB4sHxkYJjgnLTU0NjU1GiQ7QDszQC40Nz8BDAwMEA8QHBISGDQhJSExNDQxMTE0NDExNDQ1NDE0NDQ0NDQ0NDQxNDE0MTE0NDQ0NDQ0NDQ0MTQxNDE0NDQ3NP/AABEIAJwBRAMBIgACEQEDEQH/xAAbAAACAgMBAAAAAAAAAAAAAAABAgADBQYHBP/EAEsQAAIBAwIDBAYGBQkECwAAAAECAAMEEQUSBiExE0FRYQcUIjJxgUJSYnKRshcjM6GxFVNUdIKSlKLT
        description:
          type: string
          description: Descri√ß√£o da campanha de doa√ß√£o
          example: >-
            Buscamos arrecadar fundos e itens essenciais para apoiar fam√≠lias
            carentes. As doa√ß√µes podem ser feitas pessoalmente ou por
            transfer√™ncia banc√°ria. Sua contribui√ß√£o pode fazer a diferen√ßa!
        state:
          type: string
          description: >-
            Sigla dos estados do Brasil (Unidades federativas do Brasil), onde
            se localiza essa campanha de doa√ß√£o
          example: PR
        category:
          type: string
          description: Categoria que se encaixa essa campanha de doa√ß√£o
          example: Projetos Sociais / Voluntariado
        goal:
          type: string
          description: Meta de arrecada√ß√£o monet√°ria da campanha de doa√ß√£o
          example: $500.00
        amount_raised:
          type: string
          description: Valor monet√°ria j√° arrecadado na campanha de doa√ß√£o
          example: $100.00
        deadline:
          type: string
          description: Data limite da campanha de doa√ß√£o, sendo fechada ap√≥s esse per√≠odo
          example: '2024-04-24T19:34:02.090Z'
        created_at:
          type: string
          description: Data de cria√ß√£o da campanha de doa√ß√£o
          example: '2024-03-24T19:34:02.090Z'
        user_id:
          type: string
          description: Usu√°rio que criou essa campanha de doa√ß√£o
          example: f1cd0ab3-4f34-4a53-8b2c-594dd917d6ca
        transactions_count:
          type: integer
          description: Quantidade de doa√ß√µes pagas nessa campanha
          example: 15
        comments:
          type: array
          description: Lista de coment√°rios solid√°rios dos doadores
          items:
            type: object
            properties:
              alias:
                type: string
                description: Apelido do doador (opcional)
                example: Jo√£o Teixeira
              message:
                type: string
                description: Mensagem solid√°ria do doador
                example: ü§ù Fiz uma contribui√ß√£o. Espero que ajude a fazer a diferen√ßa!
    Donation:
      type: object
      required:
        - id
        - name
        - url_image
        - description
        - state
        - category
        - goal
        - amount_raised
        - deadline
        - created_at
        - user_id
      properties:
        id:
          type: string
          description: Identificador √∫nico da campanha de doa√ß√£o
          example: fa763c0d-21ad-4151-bd14-00962d3c3a74
        name:
          type: string
          description: Nome da campanha de doa√ß√£o
          example: Doe Amor e Esperan√ßa
        url_image:
          type: string
          description: URL da imagem da campanha de doa√ß√£o (formato base64)
          example: >-
            data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBURDw8REREPDw8PDxEPEA8PEREPDw8PGBQZGRgUGBgcIS4lHB4sHxkYJjgnLTU0NjU1GiQ7QDszQC40Nz8BDAwMEA8QHBISGDQhJSExNDQxMTE0NDExNDQ1NDE0NDQ0NDQ0NDQxNDE0MTE0NDQ0NDQ0NDQ0MTQxNDE0NDQ3NP/AABEIAJwBRAMBIgACEQEDEQH/xAAbAAACAgMBAAAAAAAAAAAAAAABAgADBQYHBP/EAEsQAAIBAwIDBAYGBQkECwAAAAECAAMEEQUSBiExE0FRYQcUIjJxgUJSYnKRshcjM6GxFVNUdIKSlKLT
        description:
          type: string
          description: Descri√ß√£o da campanha de doa√ß√£o
          example: >-
            Buscamos arrecadar fundos e itens essenciais para apoiar fam√≠lias
            carentes. As doa√ß√µes podem ser feitas pessoalmente ou por
            transfer√™ncia banc√°ria. Sua contribui√ß√£o pode fazer a diferen√ßa!
        state:
          type: string
          description: >-
            Sigla dos estados do Brasil (Unidades federativas do Brasil), onde
            se localiza essa campanha de doa√ß√£o
          example: PR
        category:
          type: string
          description: Categoria que se encaixa essa campanha de doa√ß√£o
          example: Projetos Sociais / Voluntariado
        goal:
          type: string
          description: Meta de arrecada√ß√£o monet√°ria da campanha de doa√ß√£o
          example: $500.00
        amount_raised:
          type: string
          description: Valor monet√°ria j√° arrecadado na campanha de doa√ß√£o
          example: $100.00
        deadline:
          type: string
          description: Data limite da campanha de doa√ß√£o, sendo fechada ap√≥s esse per√≠odo
          example: '2024-04-24T19:34:02.090Z'
        created_at:
          type: string
          description: Data de cria√ß√£o da campanha de doa√ß√£o
          example: '2024-03-24T19:34:02.090Z'
        user_id:
          type: string
          description: Usu√°rio que criou essa campanha de doa√ß√£o
          example: f1cd0ab3-4f34-4a53-8b2c-594dd917d6ca
    DonationUpdate:
      type: object
      required:
        - name
        - url_image
        - description
        - state
        - category
        - goal
        - deadline
      properties:
        name:
          type: string
          description: Nome da campanha de doa√ß√£o
          example: Doe Amor e Esperan√ßa
        url_image:
          type: string
          description: URL da imagem da campanha de doa√ß√£o (formato base64)
          example: >-
            data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBURDw8REREPDw8PDxEPEA8PEREPDw8PGBQZGRgUGBgcIS4lHB4sHxkYJjgnLTU0NjU1GiQ7QDszQC40Nz8BDAwMEA8QHBISGDQhJSExNDQxMTE0NDExNDQ1NDE0NDQ0NDQ0NDQxNDE0MTE0NDQ0NDQ0NDQ0MTQxNDE0NDQ3NP/AABEIAJwBRAMBIgACEQEDEQH/xAAbAAACAgMBAAAAAAAAAAAAAAABAgADBQYHBP/EAEsQAAIBAwIDBAYGBQkECwAAAAECAAMEEQUSBiExE0FRYQcUIjJxgUJSYnKRshcjM6GxFVNUdIKSlKLT
        description:
          type: string
          description: Descri√ß√£o da campanha de doa√ß√£o
          example: >-
            Buscamos arrecadar fundos e itens essenciais para apoiar fam√≠lias
            carentes. As doa√ß√µes podem ser feitas pessoalmente ou por
            transfer√™ncia banc√°ria. Sua contribui√ß√£o pode fazer a diferen√ßa!
        state:
          type: string
          description: >-
            Sigla dos estados do Brasil (Unidades federativas do Brasil), onde
            se localiza essa campanha de doa√ß√£o
          example: PR
        category:
          type: string
          description: Categoria que se encaixa essa campanha de doa√ß√£o
          example: Projetos Sociais / Voluntariado
        goal:
          type: string
          description: Meta de arrecada√ß√£o monet√°ria da campanha de doa√ß√£o
          example: $500.00
        deadline:
          type: string
          description: Data limite da campanha de doa√ß√£o, sendo fechada ap√≥s esse per√≠odo
          example: '2024-04-24T19:34:02.090Z'
    DonationInsert:
      type: object
      required:
        - name
        - url_image
        - description
        - state
        - category
        - goal
        - deadline
      properties:
        name:
          type: string
          description: Nome da campanha de doa√ß√£o
          example: Doe Amor e Esperan√ßa
        url_image:
          type: string
          description: URL da imagem da campanha de doa√ß√£o (formato base64)
          example: >-
            data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBURDw8REREPDw8PDxEPEA8PEREPDw8PGBQZGRgUGBgcIS4lHB4sHxkYJjgnLTU0NjU1GiQ7QDszQC40Nz8BDAwMEA8QHBISGDQhJSExNDQxMTE0NDExNDQ1NDE0NDQ0NDQ0NDQxNDE0MTE0NDQ0NDQ0NDQ0MTQxNDE0NDQ3NP/AABEIAJwBRAMBIgACEQEDEQH/xAAbAAACAgMBAAAAAAAAAAAAAAABAgADBQYHBP/EAEsQAAIBAwIDBAYGBQkECwAAAAECAAMEEQUSBiExE0FRYQcUIjJxgUJSYnKRshcjM6GxFVNUdIKSlKLT
        description:
          type: string
          description: Descri√ß√£o da campanha de doa√ß√£o
          example: >-
            Buscamos arrecadar fundos e itens essenciais para apoiar fam√≠lias
            carentes. As doa√ß√µes podem ser feitas pessoalmente ou por
            transfer√™ncia banc√°ria. Sua contribui√ß√£o pode fazer a diferen√ßa!
        state:
          type: string
          description: >-
            Sigla dos estados do Brasil (Unidades federativas do Brasil), onde
            se localiza essa campanha de doa√ß√£o
          example: PR
        category:
          type: string
          description: Categoria que se encaixa essa campanha de doa√ß√£o
          example: Projetos Sociais / Voluntariado
        goal:
          type: string
          description: Meta de arrecada√ß√£o monet√°ria da campanha de doa√ß√£o
          example: $500.00
        deadline:
          type: string
          description: Data limite da campanha de doa√ß√£o, sendo fechada ap√≥s esse per√≠odo
          example: '2024-04-24T19:34:02.090Z'
    PixPayConfirmWebhook:
      type: object
      properties:
        msg:
          type: string
          description: Mensagem de sucesso ao confirmar pagamento Pix recebida
          example: Confirma√ß√£o de pagamento Pix recebida com sucesso
    ConfigurationSuccessWebhook:
      type: object
      properties:
        msg:
          type: string
          description: >-
            Mensagem de sucesso ao ter validado configura√ß√£o de seguran√ßa do
            Webhook
          example: Webhook configurado com sucesso
    DeleteSuccess:
      type: object
      properties:
        msg:
          type: string
          description: Mensagem de sucesso ao excluir
          example: Exclu√≠do com sucesso
    LoginSuccess:
      type: object
      properties:
        id:
          type: string
          description: Identificador √∫nico do usu√°rio
          example: f1cd0ab3-4f34-4a53-8b2c-594dd917d6ca
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
        access_token:
          type: string
          description: Token de acesso do usu√°rio
          example: <token>
    RequestRecoverSuccess:
      type: object
      properties:
        msg:
          type: string
          description: Mensagem de sucesso solicitar recupera√ß√£o de senha
          example: Email de solicita√ß√£o enviado com sucesso
    LoginFail:
      type: object
      properties:
        msg:
          type: string
          description: Mensagem de falha ao fazer login
          example: Credenciais de usu√°rio inv√°lidas
    BadRequest:
      type: object
      properties:
        msg:
          type: string
          description: >-
            Requisi√ß√£o inv√°lida. Alguns par√¢metros podem estar faltando ou serem
            inv√°lidos
          example: Alguns par√¢metros podem estar faltando ou serem inv√°lidos
    Unauthorized:
      type: object
      properties:
        msg:
          type: string
          description: N√£o autorizado. O token JWT n√£o foi fornecido ou √© inv√°lido
          example: O token JWT n√£o foi fornecido ou √© inv√°lido
    UnauthorizedCertificateWebhook:
      type: object
      properties:
        msg:
          type: string
          description: N√£o autorizado. A requisi√ß√£o est√° sem certificado
          example: Requisi√ß√£o sem certificado
    Forbidden:
      type: object
      properties:
        msg:
          type: string
          description: >-
            Proibido. O usu√°rio n√£o tem permiss√£o para acessar o recurso
            solicitado
          example: N√£o tem permiss√£o para acessar o recurso solicitado
    NotFound:
      type: object
      properties:
        msg:
          type: string
          description: Nenhum dado encontrado. O recurso solicitado n√£o existe
          example: Nenhum dado encontrado
    InternalServerError:
      type: object
      properties:
        msg:
          type: string
          description: Erro interno ao manipular dados no servi√ßo
          example: Erro interno do servidor
    TransactionList:
      type: array
      items:
        $ref: '#/components/schemas/Transaction'
    Transaction:
      type: object
      required:
        - id
        - txid
        - loc_id
        - location
        - qr_code
        - pix_copy_paste
        - amount
        - alias
        - email
        - message
        - status
        - created_at
        - donation_id
      properties:
        id:
          type: string
          description: Identificador √∫nico da transa√ß√£o
          example: f1cd0ab3-4f34-4a53-8b2c-594dd917d6ca
        txid:
          type: string
          description: >-
            Identificador √∫nico atribu√≠do uma transa√ß√£o feita com uma
            criptomoeda na rede blockchain
          example: 7978c0c97ea847e78e8849634473c1f1
        loc_id:
          type: number
          description: Identificador √∫nico associado a location
          example: 10
        location:
          type: string
          description: >-
            Identificador √∫nico associado a uma cobran√ßa imediata no sistema de
            pagamentos instant√¢neos Pix, respons√°vel por gerar o QR Code
            correspondente √† cobran√ßa
          example: pix.example.com/qr/v2/9d36b84fc70b478fb95c12729b90ca25
        qr_code:
          type: string
          description: Imagem base64 do QR Code para realizar o pagamento
          example: >-
            data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmc
            vMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NSA0NSIgc2hhcGUtcmVuZGVyaW5nPSJjcmlzcEVkZ2VzIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMCAwaDQ1djQ1SD
        pix_copy_paste:
          type: string
          description: >-
            String permite realizar pagamentos sem a necessidade de escanear um
            QR Code
          example: >-
            00020101021226830014BR.GOV.BCB.PIX2561qrcodespix.sejaefi.com.br/v2/41e0badf811a4ce6ad8a80b306821fce5204000053000065802BR5905EFISA6008SAOPAULO60070503***61040000
        amount:
          type: string
          description: Valor da transa√ß√£o
          example: $2,000.00
        alias:
          type: string
          description: Apelido do doador (opcional)
          example: Jo√£o Teixeira
        email:
          type: string
          description: Email do doador
          example: email@example.com
        message:
          type: string
          description: Mensagem solid√°ria do doador
          example: ü§ù Fiz uma contribui√ß√£o. Espero que ajude a fazer a diferen√ßa!
        status:
          type: string
          description: Status da transa√ß√£o
          example: Pago
        created_at:
          type: string
          description: Data de cria√ß√£o da transa√ß√£o
          example: '2024-03-24T19:34:02.090Z'
        donation_id:
          type: string
          description: Identificador √∫nico da transa√ß√£o da campanha de doa√ß√£o
          example: fa763c0d-21ad-4151-bd14-00962d3c3a74
    TransactionUpdate:
      type: object
      required:
        - status
      properties:
        status:
          type: string
          description: Status da transa√ß√£o
          example: Aguardando pagamento
    TransactionInsert:
      type: object
      required:
        - amount
        - alias
        - email
        - message
        - donation_id
      properties:
        amount:
          type: string
          description: Valor da transa√ß√£o
          example: $2,000.00
        alias:
          type: string
          description: Apelido do doador (opcional)
          example: Maria Souza
        email:
          type: string
          description: Email do doador
          example: maria@example.com
        message:
          type: string
          description: Mensagem solid√°ria do doador
          example: üíï Doei para apoiar a sua miss√£o. Vamos mudar o mundo juntos!
        donation_id:
          type: string
          description: Identificador √∫nico da transa√ß√£o da campanha solid√°ria
          example: 49a3d66e-f2b9-487c-b47d-38b2f732424a
    User:
      type: object
      required:
        - id
        - name
        - email
        - pwd
        - code_recover_pwd
        - pix_key
        - pix_key_type
        - created_at
      properties:
        id:
          type: string
          description: Identificador √∫nico do usu√°rio
          example: f1cd0ab3-4f34-4a53-8b2c-594dd917d6ca
        name:
          type: string
          description: Nome do usu√°rio
          example: Nome do usu√°rio
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
        pwd:
          type: string
          description: Senha do usu√°rio com hash
          example: $2a$10$LuXW4dPEXrdz6WIBu4KrjeSyUAYC77g7BpGL1pbQflABIIxwG5/Zm
        code_recover_pwd:
          type: string
          description: C√≥digo de recupera√ß√£o de senha
          example: '123456'
        pix_key:
          type: string
          description: Chave pix
          example: 1234abcd-5678-efgh-ijkl-9876mnopqrst
        pix_key_type:
          type: string
          description: >-
            Tipo de chave pix que pode ser CPF, CNPJ, N√∫mero de telefone, Email
            ou Chave aleat√≥ria
          example: Aleat√≥ria
        created_at:
          type: string
          description: Data de cria√ß√£o do usu√°rio
          example: '2024-03-24T19:34:02.090Z'
    UserUpdate:
      type: object
      required:
        - name
        - email
        - pwd
        - pix_key
        - pix_key_type
      properties:
        name:
          type: string
          description: Nome do usu√°rio
          example: Nome do usu√°rio
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
        pwd:
          type: string
          description: Senha do usu√°rio sem hash
          example: senha123
        pix_key:
          type: string
          description: Chave pix
          example: 1234abcd-5678-efgh-ijkl-9876mnopqrst
        pix_key_type:
          type: string
          description: >-
            Tipo de chave pix que pode ser CPF, CNPJ, N√∫mero de telefone, Email
            ou Chave aleat√≥ria
          example: CPF
    UserInsert:
      type: object
      required:
        - name
        - email
        - pwd
      properties:
        name:
          type: string
          description: Nome do usu√°rio
          example: Nome do usu√°rio
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
        pwd:
          type: string
          description: Senha do usu√°rio sem hash
          example: senha123
    UserLogin:
      type: object
      required:
        - email
        - pwd
      properties:
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
        pwd:
          type: string
          description: Senha do usu√°rio sem hash
          example: senha123
    UserRequestRecover:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
    UserRecoverPwd:
      type: object
      required:
        - email
        - code_recover_pwd
        - pwd
      properties:
        email:
          type: string
          description: Email do usu√°rio
          example: email@example.com
        code_recover_pwd:
          type: string
          description: C√≥digo de recupera√ß√£o de senha
          example: '123456'
        pwd:
          type: string
          description: Senha do usu√°rio sem hash
          example: senha123
paths:
  /donations:
    get:
      summary: Vizualiza todas campanhas de doa√ß√£o
      description: Retorna as informa√ß√µes de todas campanhas de doa√ß√£o
      tags:
        - Donation
      operationId: get_all_donation
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationList'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    post:
      summary: Cria uma nova campanha de doa√ß√£o
      description: >-
        Cria uma nova campanha de doa√ß√£o com base nos dados fornecidos no corpo
        da requisi√ß√£o
      tags:
        - Donation
      operationId: create_donation
      security:
        - jwt: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DonationInsert'
      responses:
        '201':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Donation'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /donations/{donation_id}:
    parameters:
      - name: donation_id
        in: path
        required: true
        description: ID da campanha de doa√ß√£o que ser√° deletada
        schema:
          type: string
    get:
      summary: Visualiza campanha de doa√ß√£o pelo id
      description: Retorna as informa√ß√µes da campanha de doa√ß√£o pelo id
      tags:
        - Donation
      operationId: get_donation_by_id
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationDetails'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    put:
      summary: Atualiza campanha de doa√ß√£o
      description: >-
        Atualiza as informa√ß√µes da campanha de doa√ß√£o desejada, desde que o
        usu√°rio que est√° realizando a edi√ß√£o seja o mesmo que a criou
      tags:
        - Donation
      operationId: update_donation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DonationUpdate'
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Donation'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    delete:
      summary: Remove campanha de doa√ß√£o
      description: >-
        Apaga campanha de doa√ß√£o, desde que o usu√°rio que est√° realizando a
        exclus√£o seja o mesmo que a criou
      tags:
        - Donation
      operationId: delete_donation
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteSuccess'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /transactions/donation/{donation_id}:
    parameters:
      - name: donation_id
        in: path
        required: true
        description: ID da campanha de doa√ß√£o que ser√° obtido as transa√ß√µes
        schema:
          type: string
    get:
      summary: Vizualiza todas transa√ß√µes solid√°rias de uma campanha de doa√ß√£o
      description: >-
        Retorna as informa√ß√µes de todas transa√ß√µes solid√°rias de uma campanha de
        doa√ß√£o
      tags:
        - Transaction
      operationId: get_all_transaction_by_donation
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionList'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /transactions/{transaction_id}:
    parameters:
      - name: transaction_id
        in: path
        required: true
        description: ID da transa√ß√£o solid√°ria que ser√° visualizada
        schema:
          type: string
    get:
      summary: Vizualiza transa√ß√£o solid√°ria pelo id
      description: Retorna as informa√ß√µes de transa√ß√£o solid√°ria pelo id
      tags:
        - Transaction
      operationId: get_transaction_by_id
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /transactions:
    post:
      summary: Cria uma nova transa√ß√£o solid√°ria
      description: >-
        Cria uma nova transa√ß√£o solid√°ria com base nos dados fornecidos no corpo
        da requisi√ß√£o
      tags:
        - Transaction
      operationId: create_transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransactionInsert'
      responses:
        '201':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /users:
    get:
      summary: Vizualiza o usu√°rio logado
      description: Retorna as informa√ß√µes do usu√°rio logado
      tags:
        - User
      operationId: get_user_me
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    post:
      summary: Cria um novo usu√°rio
      description: >-
        Cria um novo usu√°rio com base nos dados fornecidos no corpo da
        requisi√ß√£o.
      tags:
        - User
      operationId: create_user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserInsert'
      responses:
        '201':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    put:
      summary: Atualiza o usu√°rio logado
      description: >-
        Atualiza as informa√ß√µes do usu√°rio logado com base nos dados fornecidos
        no corpo da requisi√ß√£o
      tags:
        - User
      operationId: update_user_me
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdate'
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    delete:
      summary: Remove o usu√°rio logado
      description: Apaga da base de dados seu usu√°rio
      tags:
        - User
      operationId: delete_user_me
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteSuccess'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /users/login:
    post:
      summary: Faz login do usu√°rio
      description: >-
        Autentica o usu√°rio com base no email e senha fornecidos no corpo da
        requisi√ß√£o.
      tags:
        - User
      operationId: login_user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLogin'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginSuccess'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginFail'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /users/request-recover:
    put:
      summary: Solicitar recupera√ß√£o de senha
      description: >-
        Realiza uma solicita√ß√£o de redefini√ß√£o de senha. Ser√° enviado um email
        com c√≥digo de verifica√ß√£o
      tags:
        - User
      operationId: request_recover
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequestRecover'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RequestRecoverSuccess'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /users/recover-pwd:
    put:
      summary: Redefini√ß√£o de senha
      description: Realiza troca de senha, quando esquece a senha.
      tags:
        - User
      operationId: recover_pwd
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRecoverPwd'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: BadRequest
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
        '404':
          description: NotFound
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
        '500':
          description: InternalServerError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
  /webhook:
    post:
      summary: Valida configura√ß√£o de seguran√ßa do Webhook
      description: >-
        Apenas fornecedor de API Pix que consome esse endpoint, para validar
        configura√ß√£o de seguran√ßa do Webhook
      tags:
        - WebHook
      operationId: webhook_configuration
      security:
        - jwt: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigurationSuccessWebhook'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedCertificateWebhook'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
  /webhook/pix:
    post:
      summary: Confirma√ß√£o de pagamento Pix
      description: >-
        Apenas fornecedor de API Pix que consome esse endpoint, para enviar
        confirma√ß√£o de pagamento Pix
      tags:
        - WebHook
      operationId: pix_pay_confirm
      security:
        - jwt: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PixPayConfirmWebhook'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PixPayConfirmWebhook'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedCertificateWebhook'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
tags:
  - name: Donation
    description: Rotas para manipula√ß√£o de campanhas de doa√ß√£o
  - name: Transaction
    description: Rotas para manipula√ß√£o de transa√ß√µes solid√°rias
  - name: User
    description: Rotas para manipula√ß√£o de usu√°rios
  - name: WebHook
    description: Rotas de callback
